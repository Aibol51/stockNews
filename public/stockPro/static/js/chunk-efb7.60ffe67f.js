(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-efb7"],{"3ZVz":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(n("7bS+")),i=(r(n("t3Un")),n("7Qib"),r(n("Kw5r")),n("URgk"),r(n("nv1Z"))),s=r(n("ZY9c"));function r(e){return e&&e.__esModule?e:{default:e}}t.default={name:"WelFare",directives:{},components:{VueQr:s.default},mixins:[a.default],filters:{},data:function(){return{userinfo:i.default.getUserInfoOfNull(),taskTypes:[{Code:"1",Name:this.$t("welfare.newusertask")},{Code:"2",Name:this.$t("welfare.tardetask")},{Code:"3",Name:this.$t("welfare.everydaytask")},{Code:"4",Name:this.$t("welfare.invittask")}],moneyType:"1",taskmoney:{1:0,2:0,3:0,4:0},tasklist:[],daysing:{LastSingDate:"2023-05-01",LotteryNum:0,OverTask:"",SingNum:0,Task:0,WeekSing:0},pageKey:"WelFare",pageName:this.$t("route.welfare")}},mounted:function(){this.initPageData()},computed:{},created:function(){},methods:{doFinish:function(e,t,n){if(this.userinfo.id){var a=this,s={UID:this.userinfo.id,taskkey:t,tasktype:e,tid:n};i.default.Ajax("Contract/PostFinishTask",s,this.userinfo.Token,function(e,n){e?a.$message.error(a.$t("msg."+e)):(a.daysing.OverTask=a.daysing.OverTask+t+";",a.userinfo.HaveInterest=n.HaveInterest,a.userinfo.HaveMoney=n.HaveMoney,i.default.addUser(a.userinfo),a.tasklist.filter(function(e){return e.CheckTag==t}).forEach(function(e){e.isover=!0}),"checkin"==t&&(a.daysing.SingNum=a.daysing.SingNum+1),a.$forceUpdate(),this.$alert(a.$t("msg.GetInterest",{num:n.Interest,num1:n.HaveMoney,num2:n.HaveInterest}),a.$t("msg.Tip"),{confirmButtonText:a.$t("btn.Confirm"),callback:function(e){a.$message({type:"info",message:"action: "+e})}}))})}else this.navTo("login")},initPageData:function(){var e=this,t={UID:this.userinfo.id||0};i.default.Ajax("Stock/GetTaskList",t,"",function(t,n){if(t)e.$message.error(e.$t("msg."+t));else if(n){e.tasklist=n.TaskList;var a=[],i=!1;if(n.UserDaySingList){e.daysing=n.UserDaySingList,a=n.UserDaySingList.OverTask.split(";");var s=new Date(n.UserDaySingList.LastSingDate),r=s.getFullYear(),o=s.getMonth()+1,l=s.getDate(),c=new Date,u=c.getFullYear(),f=c.getMonth()+1,d=c.getDate();r==u&&o==f&&l==d&&(i=!0)}e.tasklist.forEach(function(t){e.taskmoney[t.moneyType]+=t.Money,t.isover=a.filter(function(e){return e==t.CheckTag}).length>0||i&&"checkin"==t.CheckTag})}})},changeTaskType:function(e){var t=this.tasklist.filter(function(t){return t.MoneyType==e});t.length>0&&(this.item=t[0])},navTo:function(e){this.$router.push({path:e})}}}},GbUC:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"list",staticStyle:{"margin-bottom":"10px"}},[n("div",{staticClass:"list-item first flex-row-between"},[n("div",{staticClass:"left first"},[n("div",[n("span",[e._v(e._s(e.$t("welfare.welfare")))]),e._v(" "),n("div",[e._v(e._s(e.$t("welfare.morewelfare")))]),e._v(" "),n("span",[n("el-link",{attrs:{type:"primary"}},[e._v(e._s(e.$t("welfare.mywelfare")))]),e._v(" "),n("el-link",{attrs:{type:"primary"}},[e._v(e._s(e.$t("welfare.rule")))])],1)])]),e._v(" "),e._m(0)])]),e._v(" "),n("el-row",{staticClass:"panel-group",staticStyle:{"margin-bottom":"10px"},attrs:{gutter:12}},[n("el-col",{attrs:{span:12}},[n("div",{staticClass:"card-panel",on:{click:function(t){e.doFinish(3,"checkin",17)}}},[n("div",{staticClass:"card-panel-icon-wrapper icon-message"},[n("i",{staticClass:"el-icon-alarm-clock",staticStyle:{"font-size":"48px"}})]),e._v(" "),n("div",{staticClass:"card-panel-description"},[n("div",{staticClass:"card-panel-text"},[e._v("\n\t\t\t\t\t\t"+e._s(e.$t("welfare.checkin"))+"\n\t\t\t\t\t")]),e._v(" "),n("span",{staticClass:"card-panel-num"},[e._v(e._s(e.$t("welfare.checkinday",{num:e.daysing.SingNum})))])])])]),e._v(" "),n("el-col",{attrs:{span:12}},[n("div",{staticClass:"card-panel",on:{click:function(t){e.navTo("active")}}},[n("div",{staticClass:"card-panel-icon-wrapper icon-money"},[n("i",{staticClass:"el-icon-date",staticStyle:{"font-size":"48px"}})]),e._v(" "),n("div",{staticClass:"card-panel-description"},[n("div",{staticClass:"card-panel-text"},[e._v("\n\t\t\t\t\t\t"+e._s(e.$t("welfare.eventcalendar"))+"\n\t\t\t\t\t")]),e._v(" "),n("span",{staticClass:"card-panel-num"},[e._v(e._s(e.$t("welfare.lookcalendar")))])])])])],1),e._v(" "),n("div",{staticClass:"filter-container"},[n("el-radio-group",{on:{input:e.changeTaskType},model:{value:e.moneyType,callback:function(t){e.moneyType=t},expression:"moneyType"}},e._l(e.taskTypes,function(t){return n("el-radio-button",{key:t.Code,attrs:{label:t.Code,value:t.Code}},[e._v(e._s(t.Name))])})),e._v(" "),n("el-link",{attrs:{type:"danger"}},[e._v(e._s(e.$t("welfare.alltaskmoney")+e.taskmoney[e.moneyType]+" CNY"))])],1),e._v(" "),n("el-table",{key:e.tableKey,staticClass:"tablebody",attrs:{data:e.tasklist.filter(function(t){return t.MoneyType==e.moneyType}),fit:"",height:e.tableHeight-150}},[n("el-table-column",{attrs:{"header-align":"center",label:e.$t("field.amount"),width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{staticClass:"uni-h3"},[e._v(e._s(t.row.Money)+" CNY")])]}}])}),e._v(" "),n("el-table-column",{attrs:{"header-align":"center",label:e.$t("field.type"),width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.SetpName))])]}}])}),e._v(" "),n("el-table-column",{attrs:{"header-align":"center",label:e.$t("field.desc"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.SetpInfo))])]}}])}),e._v(" "),n("el-table-column",{attrs:{"header-align":"center",label:e.$t("field.op"),width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isover?n("i",{staticClass:"el-icon-check"}):n("button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){e.doFinish(t.row.MoneyType,t.row.CheckTag,t.row.id)}}},[e._v(e._s(e.$t("btn.Finish")))])]}}])})],1)],1)},i=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"right",staticStyle:{height:"120px",background:"#fff"}},[t("img",{staticStyle:{width:"140px",height:"120px"},attrs:{src:"/static/img/welfare.png",mode:"aspectFit"}})])}];n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i})},PbGg:function(e,t,n){},URgk:function(e,t,n){(function(e){var a=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function s(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new s(i.call(setTimeout,a,arguments),clearTimeout)},t.setInterval=function(){return new s(i.call(setInterval,a,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(a,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n("YBdB"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n("yLpj"))},YBdB:function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var a,i=1,s={},r=!1,o=e.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,"[object process]"==={}.toString.call(e.process)?a=function(e){t.nextTick(function(){u(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&u(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),a=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){u(e.data)},a=function(t){e.port2.postMessage(t)}}():o&&"onreadystatechange"in o.createElement("script")?function(){var e=o.documentElement;a=function(t){var n=o.createElement("script");n.onreadystatechange=function(){u(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():a=function(e){setTimeout(u,0,e)},l.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return s[i]=r,a(i),i++},l.clearImmediate=c}function c(e){delete s[e]}function u(e){if(r)setTimeout(u,0,e);else{var t=s[e];if(t){r=!0;try{!function(e){var t=e.callback,a=e.args;switch(a.length){case 0:t();break;case 1:t(a[0]);break;case 2:t(a[0],a[1]);break;case 3:t(a[0],a[1],a[2]);break;default:t.apply(n,a)}}(t)}finally{c(e),r=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n("yLpj"),n("8oxB"))},hTuP:function(e,t,n){"use strict";n.r(t);var a=n("3ZVz"),i=n.n(a);for(var s in a)"default"!==s&&function(e){n.d(t,e,function(){return a[e]})}(s);t.default=i.a},ha4B:function(e,t,n){"use strict";var a=n("kb4D");n.n(a).a},kb4D:function(e,t,n){},"lC+J":function(e,t,n){"use strict";var a=n("PbGg");n.n(a).a},nYgw:function(e,t,n){"use strict";n.r(t);var a=n("GbUC"),i=n("hTuP");for(var s in i)"default"!==s&&function(e){n.d(t,e,function(){return i[e]})}(s);n("lC+J"),n("ha4B");var r=n("KHd+"),o=Object(r.a)(i.default,a.a,a.b,!1,null,"703e859b",null);o.options.__file="welfare.vue",t.default=o.exports}}]);