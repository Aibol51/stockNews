(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-8253"],{"9+MI":function(e,t,a){"use strict";var i=a("R64I");a.n(i).a},DTWZ:function(e,t,a){"use strict";a.r(t);var i=a("uiOd"),s=a.n(i);for(var n in i)"default"!==n&&function(e){a.d(t,e,function(){return i[e]})}(n);t.default=s.a},Mvsw:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"list"},[a("div",{staticClass:"list-item first flex-row-between"},[a("div",{staticClass:"left first",staticStyle:{background:"#287edc",color:"#fff","margin-right":"5px","font-weight":"bold"}},[a("div",[a("div",{staticStyle:{"font-size":"20px"}},[e._v(e._s(e.$t("recharge.recommend")))]),e._v(" "),a("span",{staticClass:"uni-h4"},[e._v(e._s(e.$t("recharge.slogan")))])])]),e._v(" "),a("div",{staticClass:"right",staticStyle:{background:"#287edc"}},[a("i",{staticClass:"el-icon-present",staticStyle:{"font-size":"48px"},on:{click:function(t){e.navTo("welfare")}}})])]),e._v(" "),e._l(e.list,function(t,i){return a("div",{key:i,staticClass:"list-item  flex-row-between"},[a("div",{staticClass:"left",on:{click:function(a){e.actRecharge(t)}}},[a("div",{staticClass:"uni-h3"},[e._v(e._s(t.CashType))])]),e._v(" "),a("div",{staticClass:"mid",on:{click:function(a){e.actRecharge(t)}}},[a("div",[a("div",{staticClass:"uni-h5"},[e._v(e._s(e.$t("recharge.Cash"+t.CashType)))]),e._v(" "),a("span",{staticClass:"uni-text-gray"},[e._v(e._s(e.$t("recharge.CashInfo"+t.CashType)))])])]),e._v(" "),a("div",{staticClass:"right"},[t.IsWF?a("i",{staticClass:"el-icon-close"}):a("i",{staticClass:"el-icon-check"})])])})],2),e._v(" "),a("el-dialog",{staticClass:"dialogtitle",attrs:{title:e.$t("page.Recharge"),width:"600px","close-on-click-modal":!1,"close-on-press-escape":!1,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"itemForm",staticStyle:{"margin-top":"-14px"},attrs:{rules:e.rules,model:e.item,"label-width":"200px"}},[a("el-row",{attrs:{gutter:8}},[a("el-col",[a("div",{staticClass:"dialogform"},[a("el-radio-group",{on:{input:e.changeBank},model:{value:e.curBankId,callback:function(t){e.curBankId=t},expression:"curBankId"}},e._l(e.userBankList,function(t){return a("el-radio-button",{key:t.id,attrs:{label:t.id}},[e._v(e._s(t.BankName))])})),e._v(" "),"USDT"==e.CashType?a("div",[a("el-alert",{staticStyle:{"margin-top":"5px"},attrs:{closable:!1,title:e.$t("recharge.ChannelInfo",{chain:e.item.BankName}),type:"warning","show-icon":""}}),e._v(" "),a("div",{staticClass:"qrcodebg"},[a("vue-qr",{attrs:{size:175,margin:0,"auto-color":!0,"dot-scale":1,text:e.item.BeneficiaryAccount,colorDark:"black",colorLight:"white"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("recharge.Recipient")},on:{click:function(t){e.CopyTo(e.item.BeneficiaryAccount)}}},[e._v("\n                  "+e._s(e.item.BeneficiaryAccount)+"\n                ")]),e._v(" "),a("el-form-item",{attrs:{label:e.$t("recharge.Payment")}},[a("el-input",{attrs:{placeholder:e.$t("recharge.InpPayment"),clearable:""},model:{value:e.PaymentAddress,callback:function(t){e.PaymentAddress=t},expression:"PaymentAddress"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("recharge.PaymentAmount")}},[a("el-input-number",{staticStyle:{width:"220px"},attrs:{placeholder:e.$t("recharge.InpPaymentAmount"),"controls-position":"right",min:0},on:{change:e.changePayAmount},model:{value:e.PaymentAmount,callback:function(t){e.PaymentAmount=t},expression:"PaymentAmount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("recharge.Hash")}},[a("el-input",{attrs:{placeholder:e.$t("recharge.InpHash")},model:{value:e.TradeHash,callback:function(t){e.TradeHash=t},expression:"TradeHash"}})],1)],1):"ThreePartyAPI"==e.item.PayeeName?a("div",[a("br"),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-select",{staticStyle:{width:"220px"},attrs:{placeholder:e.$t("safe.PleaseSelect")+e.$t("recharge.PaymentAmount")},on:{change:e.setPayAmount},model:{value:e.selectPaymentAmount,callback:function(t){e.selectPaymentAmount=t},expression:"selectPaymentAmount"}},e._l(e.MoneyList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("recharge.PaymentAmount")}},[a("el-input-number",{staticStyle:{width:"220px"},attrs:{placeholder:e.$t("recharge.InpPaymentAmount"),"controls-position":"right",min:0},on:{change:e.changePayAmount},model:{value:e.PaymentAmount,callback:function(t){e.PaymentAmount=t},expression:"PaymentAmount"}})],1)],1):a("div",[a("el-alert",{staticStyle:{"margin-top":"5px"},attrs:{closable:!1,title:e.$t("recharge.BankChannelInfo",{bank:e.item.BankName,coin:e.CashType}),type:"warning","show-icon":""}}),e._v(" "),e.item.QRcode?a("div",{staticClass:"qrcodebg"},[a("image",{attrs:{src:e.item.QRcode}})]):e._e(),e._v(" "),e.item.PayeeName?a("el-form-item",{attrs:{label:e.$t("recharge.RecipientName")},on:{click:function(t){e.CopyTo(e.item.PayeeName)}}},[e._v("\n                  "+e._s(e.userinfo.IsVerified?e.item.PayeeName:e.$t("home.memuservice"))+"\n                ")]):e._e(),e._v(" "),e.item.BeneficiaryAccount?a("el-form-item",{attrs:{label:e.$t("recharge.RecipientAcc")},on:{click:function(t){e.CopyTo(e.item.BeneficiaryAccount)}}},[e._v("\n                  "+e._s(e.userinfo.IsVerified?e.item.BeneficiaryAccount:e.$t("home.memuservice"))+"\n                ")]):e._e(),e._v(" "),e.item.BankAddress?a("el-form-item",{attrs:{label:e.$t("recharge.BankAddress")},on:{click:function(t){e.CopyTo(e.item.BankAddress)}}},[e._v("\n                  "+e._s(e.userinfo.IsVerified?e.item.BankAddress:e.$t("home.memuservice"))+"\n                ")]):e._e(),e._v(" "),e.item.PayeeAddress?a("el-form-item",{attrs:{label:e.$t("recharge.PayeeAddress")},on:{click:function(t){e.CopyTo(e.item.PayeeAddress)}}},[e._v("\n                  "+e._s(e.userinfo.IsVerified?e.item.PayeeAddress:e.$t("home.memuservice"))+"\n                ")]):e._e(),e._v(" "),e.item.SWIFTCODE?a("el-form-item",{attrs:{label:e.$t("recharge.SWIFTCODE")},on:{click:function(t){e.CopyTo(e.item.SWIFTCODE)}}},[e._v("\n                  "+e._s(e.userinfo.IsVerified?e.item.SWIFTCODE:e.$t("home.memuservice"))+"\n                ")]):e._e(),e._v(" "),e.item.CashInfo?a("el-form-item",{attrs:{label:e.$t("recharge.CashInfo")},on:{click:function(t){e.CopyTo(e.item.CashInfo)}}},[e._v("\n                  "+e._s(e.userinfo.IsVerified?e.item.CashInfo:e.$t("home.memuservice"))+"\n                ")]):e._e(),e._v(" "),a("el-form-item",{attrs:{label:e.$t("recharge.PaymentAcc")}},[a("el-input",{attrs:{placeholder:e.$t("recharge.InpPaymentAcc",{name:e.userinfo.UserName})},model:{value:e.PaymentAddress,callback:function(t){e.PaymentAddress=t},expression:"PaymentAddress"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("recharge.PaymentAmount")}},[a("el-input-number",{staticStyle:{width:"220px"},attrs:{placeholder:e.$t("recharge.InpPaymentAmount"),"controls-position":"right",min:0},on:{change:e.changePayAmount},model:{value:e.PaymentAmount,callback:function(t){e.PaymentAmount=t},expression:"PaymentAmount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("recharge.Other")}},[a("el-input",{attrs:{placeholder:e.$t("recharge.InpOther")},model:{value:e.TradeHash,callback:function(t){e.TradeHash=t},expression:"TradeHash"}})],1)],1)],1)])],1)],1),e._v(" "),a("el-dialog",{attrs:{width:"400px",title:e.$t("recharge.OnlinePay"),visible:e.innerVisible,"append-to-body":""},on:{"update:visible":function(t){e.innerVisible=t}}},["url"==e.paytype?a("div",{staticClass:"uni-center center-box pop-buy popbox",on:{click:function(t){e.OpenUrl(e.PayUrl)}}},["url"==e.paytype?a("div",{staticStyle:{height:"100%",width:"100%"}},[a("iframe",{ref:"payFrame",staticStyle:{width:"100%",height:"100%"},attrs:{frameborder:"0",scrolling:"no"}},[e._v("\n              您当前的浏览器不支持页面上的功能，请升级您当前的浏览器版本或使用谷歌浏览器访问当前页面\n            ")])]):e._e(),e._v(" "),a("div",[e._v(e._s(e.$t("recharge.PayAmount"))+"："),a("span",{staticClass:"r"},[e._v(e._s(e.PaymentAmount))])]),e._v(" "),a("div",[e._v(e._s(e.$t("recharge.PayUrl"))+"："),a("span",{staticClass:"r"},[a("el-link",{attrs:{type:"primary"},on:{click:e.openThirdPayPage}},[e._v(" "+e._s(e.PayUrl))])],1)]),e._v(" "),a("div",{staticClass:"pop-btn"},[a("div",{staticClass:"qrcodebg"},[a("vue-qr",{attrs:{size:175,margin:0,"auto-color":!0,"dot-scale":1,text:e.thirdPayQrCode,colorDark:"black",colorLight:"white"}})],1)])]):a("div",{staticClass:"uni-center center-box pop-buy popbox"},[a("div",{staticStyle:{"line-height":"50px",height:"50px"}},[e._v(e._s(e.$t("recharge.PaymentAmount"))+" ： "),a("span",{staticClass:"red"},[e._v(" "+e._s(e.PaymentAmount)+" ")]),e._v("  "+e._s(e.CashType))]),e._v(" "),a("div",{staticStyle:{"line-height":"30px",height:"30px"}},[e._v(e._s(e.$t("recharge.PaymentAcc"))+" ： "+e._s(e.userinfo.UserName))]),e._v(" "),a("div",{staticStyle:{"line-height":"20px",padding:"5px"}},[e._v("\n        {{ $t('msg.ThirdPayTip',{userAcc: \""),a("span",{staticClass:"red"},[e._v('" + userinfo.UserName + "')]),e._v('"}) }}')]),e._v(" "),a("div",{staticStyle:{"line-height":"50px","padding-top":"5px"},domProps:{innerHTML:e._s(e.paydata)}})])]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v(e._s(e.$t("btn.Cancel")))]),e._v(" "),a("el-button",{attrs:{disabled:e.noSubmit,type:"primary"},on:{click:e.doConfirm}},[e._v(e._s(e.$t("btn.Confirm")))])],1)],1)],1)},s=[];a.d(t,"a",function(){return i}),a.d(t,"b",function(){return s})},R64I:function(e,t,a){},l1Ry:function(e,t,a){"use strict";a.r(t);var i=a("Mvsw"),s=a("DTWZ");for(var n in s)"default"!==n&&function(e){a.d(t,e,function(){return s[e]})}(n);a("9+MI");var r=a("KHd+"),o=Object(r.a)(s.default,i.a,i.b,!1,null,null,null);o.options.__file="selrecharge.vue",t.default=o.exports},uiOd:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(a("7bS+")),s=o(a("nv1Z")),n=o(a("ZY9c")),r=o(a("mSNy"));function o(e){return e&&e.__esModule?e:{default:e}}t.default={name:"SelRecharge",directives:{},components:{VueQr:n.default},mixins:[i.default],filters:{},data:function(){return{curBankId:1,msgType:"success",messageText:"",userinfo:s.default.getUsers(),list:[],userBankList:[],item:{id:-1},rules:{},moneypwdshow:"******",noSubmit:!0,CashType:"",PaymentAddress:"",PaymentAmount:"",selectPaymentAmount:"",TradeHash:"",tempFilePath:"",pageKey:"SelRecharge",pageName:this.$t("route.selrecharge"),MoneyList:[500,1e3,2e3,5e3,1e4,5e4],PayUrl:"",paydata:"",paytype:"url",innerVisible:!1,thirdPayQrCode:""}},mounted:function(){this.initPageData()},computed:{},created:function(){},methods:{openThirdPayPage:function(){var e=this;"url"==e.paytype&&setTimeout(function(){e.$refs.payFrame.src=e.PayUrl,e.$refs.payFrame.style.width="100%",e.$refs.payFrame.style.height="400px"},100)},setPayAmount:function(e){this.PaymentAmount=e,this.noSubmit=e<1},changePayAmount:function(e,t){this.noSubmit=e<1},changeBank:function(e){var t=this.userBankList.filter(function(t){return t.id==e});t.length>0&&(this.item=t[0],"ThreePartyAPI"==this.item.PayeeName&&(this.MoneyList=this.item.MoneyNums.split(",")))},CopyTo:function(e){var t=this;this.userinfo.IsVerified||(e=this.$t("home.memuservice")),uni.setClipboardData({data:e,success:function(a){t.$message("success",t.$t("msg.Copied")+" : "+e)},fail:function(e){},complete:function(e){}})},actRecharge:function(e){var t=this;if(e.IsWF)t.$message.error(this.$t("msg.Maintain",{code:e.CashType}));else if(this.userinfo.id){this.CashType=e.CashType;var a={UID:this.userinfo.id,UserLevel:this.userinfo.UserLevel,CashType:e.CashType};s.default.Ajax("Contract/GetManageRechargeWayList",a,this.userinfo.Token,function(e,a){e?t.$message.error(t.$t("msg."+e)):(t.userBankList=a,t.userBankList.length>0&&(t.item=t.userBankList[0],console.log("that.item:",t.item),t.curBankId=t.item.id),t.dialogFormVisible=!0)})}else t.$message.error(this.$t("msg.NoLogin"))},initPageData:function(){var e=this,t={UID:this.userinfo.id};s.default.Ajax("Contract/GetRechargeWayList",t,"",function(t,a){t?e.$message.error(r.default.t("msg."+t)):e.list=a})},doConfirm:function(){"ThreePartyAPI"!=this.item.PayeeName?this.payConfirm():this.thirdPayConfirm()},thirdPayConfirm:function(){console.log("thirdPayConfirm");var e=this;e.noSubmit=!0;var t={UID:this.userinfo.id,CoinTypeCode:"CNY"==this.CashType?0:"HKD"==this.CashType?1:"USD"==this.CashType?2:3,PayTypeCode:this.item.SWIFTCODE,PayUserName:this.userinfo.UserName,PayMode:this.item.BankAddress,Amount:this.PaymentAmount};s.default.Ajax("Pay/PostPay",t,this.userinfo.Token,function(t,a){if(t)return e.$message.error(e.$t("msg."+t)),!1;"data"==a.Message?(e.paytype="data",e.paydata=a.data):(console.log(a.PayUrl),e.paytype="url",e.PayUrl=a.PayUrl,e.thirdPayQrCode=e.PayUrl),e.innerVisible=!0,e.openThirdPayPage(),e.noSubmit=!1})},payConfirm:function(){console.log("payConfirm");var e=this;if("USDT"!=this.CashType||this.item.BeneficiaryAccount!=this.PaymentAddress&&this.item.BeneficiaryAccount.substring(0,1)==this.PaymentAddress.substring(0,1))if(""!=this.PaymentAddress)if(""!=this.PaymentAmount)if("USDT"!=this.CashType||""!=this.TradeHash){e.noSubmit=!0;var t={UID:this.userinfo.id,CoinType:"CNY"==this.CashType?0:"HKD"==this.CashType?1:"USD"==this.CashType?2:3,BankName:this.item.BankName,PayeeName:this.item.PayeeName,Recipient:this.item.BeneficiaryAccount,Payment:this.PaymentAddress,Amount:this.PaymentAmount,Hash:this.TradeHash};s.default.Ajax("Contract/PostRechargeReceipt",t,this.userinfo.Token,function(t,a){t?e.$message.error(r.default.t("msg."+t)):(e.$message(r.default.t("msg.SubmitSuccess")),e.dialogFormVisible=!1,e.noSubmit=!1)})}else e.$message.error(e.$t("msg.TradeHashErr"));else e.$message.error(e.$t("msg.PaymentAmountErr"));else e.$message.error(e.$t("recharge.InpPaymentAcc",{name:e.userinfo.UserName}));else e.$message.error(e.$t("msg.PaymentAddressErr"))}}}}}]);